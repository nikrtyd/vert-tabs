:root {
  --text: #111;
  --back: #eee;
  --hover-tint: #5552;
  --active-tint: #fff;
  --active-hover-tint: #fff5;
  --text-annotation: #666;

  --container-padding: 4px;
  --tab-padding: 5px;
}

@media (prefers-color-scheme: dark) {
  :root {
    --text: #ddd;
    --back: #111;
    --hover-tint: #5552;
    --active-tint: #5553;
    --active-hover-tint: #5554;
  }

  img[src^='chrome://global/skin/'],
  img[src^='chrome://browser/skin/'],
  img[src^='moz-extension://'],
  img[src^='/icons/firefox'] {
    filter: invert(1);
  }

  img[src='chrome://browser/skin/privatebrowsing/favicon.svg'] {
    filter: none;
  }
}

body {
  background-color: var(--back);
  color: var(--text);
}

#tabs,
#tabs--pinned,
#tabs--actions {
  padding: var(--container-padding);
}

#tabs--pinned:empty {
  box-shadow: none;
  padding: 0;
}

.tab__elem,
.tab__action {
  padding: 0 0 0 5px;
  border-radius: var(--tab-padding);
  align-items: center;
  min-height: 26px;
}

.discarded>.tab__title-container {
  color: #aaa;
}

.tab__icon {
  margin-right: 5.5px;
}

.overflow {
  mask-image: linear-gradient(to right, #000 90%, transparent);
}

.overflow:hover {
  animation: fade-left 10s linear .5s;
}

.overflow .tab__title:hover {
  animation: scroll 10s linear .5s;
}

/* .tab__title.ellipsis:hover {
  animation: scrollEllipsis 10s linear .5s;
} */

@keyframes scroll {
  0% {
    transform: translateX(0%);
  }

  99% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(0%);
  }
}

@keyframes fade-left {
  0% {
    mask-image: linear-gradient(to right, transparent, #000 10% 90%, transparent);
  }

  99% {
    mask-image: linear-gradient(to right, transparent, #000 10% 90%, transparent);
  }

  100% {
    mask-image: linear-gradient(to right, #000 90%, transparent);
  }
}

/* @keyframes scrollEllipsis {
  0% {
    text-indent: 0%;
  }

  100% {
    text-indent: 300%;
  }
} */

.discard__indicator {
  max-width: 8px;
  max-height: 8px;
  font-size: 8px;
  margin-top: -14px;
  margin-left: 10px;
  position: absolute;
}

.audio__indicator {
  max-width: 8px;
  max-height: 8px;
  font-size: 8px;
  margin-top: 8px;
  margin-left: 10px;
  position: absolute;
}

.tab__close {
  padding: 5px;
  border-radius: 4px;
}

.tab__elem:hover,
.tab__close:hover,
.tab__action:hover {
  background-color: var(--hover-tint);
}

.tab__audio {
  font-size: 10px;
  font-weight: 600;
  color: #aaa;
}

.audio__annotation {
  white-space: nowrap;
  color: var(--text-annotation);
  font-size: 10px;
  font-weight: 600;
}

.tab__annotation {
  color: var(--text-annotation);
  padding-right: 5px;
}

.highlighted {
  background-color: var(--active-tint);
  box-shadow: inset 0 0 8px #000a;
}

.attention {
  font-weight: 700;
}

.active {
  background-color: var(--active-tint);
  box-shadow: 0 2px 4px #0005;
}

.active:hover {
  background-color: var(--active-hover-tint);
}

/* TODO: Make pinned tabs sticky */

#tabs--pinned {
  position: sticky;
  top: 0;
  box-shadow: 0 2px 4px #0005;
  background: var(--back);
}
